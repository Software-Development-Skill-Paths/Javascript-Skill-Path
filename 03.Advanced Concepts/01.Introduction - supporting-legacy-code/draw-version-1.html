<!DOCTYPE html>
    <html lang="en">
        <style>
            #theCanvas {
                background-image: -moz-radial-gradient(30px 30px, #FFF, #EEF);
                background-color: rebeccapurple;
            }
        </style>
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Draw - Version 1</title>
        </head>
        <body>
            <canvas id="theCanvas" width="640" height="480">
                Attention! Your browser does not support the Canvas.
            </canvas>
        </body>
        <script>
            /*
            * STUB IMPLEMENTATION
            *
            _KSM = {
                draw: function(left, top, width, height) {
                  //this is our stab
                  _KSM.drawNew(left, top, width, height, 'black', 'silver');  
                },
                drawNew: function(left, top, width, height, stroke, fill) {
                    //Draw Something on the canvas
                    var canvas = document.getElementById('theCanvas');
                    if (canvas.getContext) {
                        var context = canvas.getContext('2d');
                        context.strokeStyle = stroke;
                        context.fillStyle = fill;
                        context.fillRect(left, top, width, height);
                        context.strokeRect(left, top, width, height);
                    }
                }
            } */

            /*
            * DEFAULT VALUE IMPLEMENTATION
            _KSM = {
                draw: function(left, top, width, height, stroke, fill) {
                    //Draw Something on the canvas
                    var canvas = document.getElementById('theCanvas');
                    if (canvas.getContext) {
                        var context = canvas.getContext('2d');
                        if(typeof(left) === 'undefined') left = 10;
                        if(typeof(top) === 'undefined') top = 10;
                        if(typeof(width) === 'undefined') width = 100;
                        if(typeof(height) === 'undefined') height = 100;
                        if(typeof(fill) === 'undefined') fill = 'silver';
                        if(typeof(stroke) === 'undefined') stroke = 'black';
                        context.strokeStyle = stroke;
                        context.fillStyle = fill;
                        context.fillRect(left, top, width, height);
                        context.strokeRect(left, top, width, height);
                    }
                }
            } /*

            /*
                USING AN OBJECT AS THE PARAMETER TO OUR FUNCTION IMPLEMENTATION
            _KSM = {
                draw: function(left, top, width, height, stroke, fill) {
                    //Draw Something on the canvas
                    var canvas = document.getElementById('theCanvas'), 
                        options = {};
                    if (canvas.getContext) {
                        var context = canvas.getContext('2d');
                        if(typeof(left) !== 'undefined') {
                            if (typeof(left) === 'object') {
                                options = left;
                            } else {
                                options = {
                                    left: left,
                                    top: top,
                                    width: width,
                                    height: height,
                                    stroke: stroke,
                                    fill: fill
                                };
                            }
                        }
                        if(typeof(options.left) === 'undefined') options.left = 10;
                        if(typeof(options.top) === 'undefined') options.top = 10;
                        if(typeof(options.width) === 'undefined') options.width = 100;
                        if(typeof(options.height) === 'undefined') options.height = 100;
                        if(typeof(options.fill) === 'undefined') options.fill = 'silver';
                        if(typeof(options.stroke) === 'undefined') options.stroke = 'black';
                        context.strokeStyle = options.stroke;
                        context.fillStyle = options.fill;
                        context.fillRect(options.left, options.top, options.width, options.height);
                        context.strokeRect(options.left, options.top, options.width, options.height);
                    }
                }
            } */

            /*AN EVEN BETTER IMPLEMENTATION USING AN OBJECT AS A PARAMETER TO HANDLE LEGACY CODE*/
            _KSM = {
                draw: function(left, top, width, height, stroke, fill) {
                    //Draw Something on the canvas
                    var canvas = document.getElementById('theCanvas'), 
                        options = {};
                    if (canvas.getContext) {
                        var context = canvas.getContext('2d');
                        if(typeof(left) !== 'undefined') {
                            if (typeof(left) === 'object') {
                                options = left;
                            } else {
                                options = {
                                    left: left,
                                    top: top,
                                    width: width,
                                    height: height,
                                    stroke: stroke,
                                    fill: fill
                                };
                            }
                        }

                        //Setting the canvas width will clear its contents
                        if (options.clear) canvas.width = canvas.width;

                        options.left = options.left || _KSM.drawOptions.left;
                        options.top = options.top || _KSM.drawOptions.top;
                        options.width = options.width || _KSM.drawOptions.width;
                        options.height = options.height || _KSM.drawOptions.height;
                        options.stroke = options.stroke || _KSM.drawOptions.stroke;
                        options.fill = options.fill || _KSM.drawOptions.fill;

                        context.strokeStyle = options.stroke;
                        context.fillStyle = options.fill;
                        context.fillRect(options.left, options.top, options.width, options.height);
                        context.strokeRect(options.left, options.top, options.width, options.height);
                    }
                },
                drawOptions: {
                    left: 10,
                    top: 10,
                    width: 100,
                    height: 100,
                    stroke: 'black',
                    fill: 'silver',
                    clear: false
                }
            }

            //Legacy code
            _KSM.draw();
            _KSM.draw(530, 370); 
            _KSM.draw(100, 100, 440, 280);
            _KSM.draw(120, 120, 400, 240, 'burlywood', 'lemonchiffon');
            _KSM.draw(530, 10, 100, 100, 'red', 'teal');
            _KSM.draw(10, 310, 160, 160, 'red');
            //Problems with readability
            _KSM.draw(270, undefined, undefined, undefined, undefined, 'green');
            _KSM.draw({stroke: 'red', left: 140, top: 450, height: 20, width: 360});

            //Latest code
            _KSM.drawOptions.stroke = '#44F';
            _KSM.drawOptions.fill = '#FFE';
            _KSM.draw({clear: true});
            _KSM.draw(530,370);
        </script>
    </html>